Classic.zh Pre-Compiled Code

Note: You can copy-paste any of these as FFCs in the blank uest for
	the Classic tileset from Map 1, Screen 0x82.

Sign FFC

Create an ffc on the screen, and assign combo 900 to it. 
Assign the script SignBost to the FFC.
Place it over any solid obect, then set FFC arg (D0) to a ZQ 
	String (message) ID. When the player is in front of and 
	below this combo, facing up, and presses an action button
	ZC will show the string.
	
Permanent Room Secret

Create an ffc on the screen, and assign combo 901 to it. 
Assign the script PermBlockSecret to the FFC.
Enable the flag 'Run Script on Screen Init'.
Place this anywhere on the screen.
This will assure that secrets triggered by block puzzles are permanent. 

Room Guy

Create an ffc on the screen, and assign combo 902 to it. 
Assign the script ChangeRoomGuy to the FFC.
Enable the flag 'Run Script on Screen Init'.
Set (D0) to the tile that you want to use for the custom guy.
Set (D1) to the CSet that you want to use for the custom guy.
Place this anywhere on the screen.
This will change whatever the normal graphics are for the room guy to
	your custom graphics.
Note: This does not work if the room guy is type 'Fire'.
	
Permanent Shutter

Create an ffc on the screen, and assign combo 903 to it. 
Assign the script PermBockShutters to the FFC.
Enable the flag 'Run Script on Screen Init'.
Place this anywhere on the screen.
This will ensure that shutters opened by a screen secret remain open 
	on revisiting the screen.

Fireworks

Create an ffc on the screen, and assign combo 904 to it. 
Assign the script BossExplode to the FFC.
Place this anywhere on the screen.
Set (D0) to a screen register (0 is default).
Set (D1) to the sprite to use for explosions (88 is the Classic tileset firework sprite).
Set (D2) to the sound effect or the explosions.
Set (D3) to a custom delay, or use 0 for default. 
Set (D4) and (D5) to a range of rando pixel distances where (D4) is
	the minimum and (D5) is the maximum. The script has defaults, so it is
	is safe to leave each at '0' unless you want custom randomisation.
If the enemy that you are using is not a Z1 boss, set (D6) to the enemy ID
	of the enemy to explode. 

Boss Music

Create an ffc on the screen, and assign combo 905 to it. 
Assign the script BossMusic to the FFC.
Place this anywhere on the screen.
Set (D0) to a screen register (0 is default).
Set (D1) to the a custom original tile, if desired. This will automatically
	default to the first tile of the Classic tileset firework sprite. 
If you are using a MIDI, set (D2) to the MIDI ID.
If you are using Classic.nsf, set (D3) to the track to play.

This will create a fireworks ani and play victory music when a boss dies. 

Drop Heart Container

Create an ffc on the screen, and assign combo 906 to it. 
Assign the script DropHEARTCONTAINER to the FFC.
Place this anywhere on the screen.
Set (D0) to a screen register (0 is default).
Set (D1) a number other than 0 is there are more than one bosses on the
	screen where it is equal to the number of bosses - 1 (e.g., 
	three bosses, use '2'). 

This will cause a heart container to fall from the ceiling when the boss dies. 

Drop Triforce Piece

Create an ffc on the screen, and assign combo 907 to it. 
Assign the script DropTRIFORCE to the FFC.
Place this anywhere on the screen.
Set (D0) to a screen register (0 is default).
Set (D1) a number other than 0 is there are more than one bosses on the
	screen where it is eual to the number of bosses - 1 (e.g., 
	three bosses, use '2'). 

This will cause a Triforce piece to fall from the ceiling when the boss dies. 
 
The Drop Triforce ad Drop Heart Container scripts are intended to be used together,
and in conjunction with the BossExplode script.

Additional Features

global script Active
This is a default/example global active script for 2.53.x. 

EagleBugInside

This replicates the Z1 1st.qst Lv1 bug where exiting and re-entering Lv1 unlocks 
the first door.

To use, To use, place it on any ffc running script with a combo > 0place this on 
	the first room (entry room) of your dungeon.

EagleBugOutside

This is a counterpart to EagleBugInside. To use, place it on any ffc running 
this script with a combo > 0 outside the dungeon entrance. 

EagleBugEast
t/b/a

/* Items */

HalfMagic

Assign this as the Pickup/Collect script to an item, and when the player collects this
	item, they will gain 1/2 magic. The Classic tileset includes and item
	preconfigured to do this. 
	
LearnSlash

Assign this as the Pickup/Collect script to an item, and when the player collects this
	item, they will gain the Slash ability. The Classic tileset includes and item
	preconfigured to do this. 
	
ItemMessage

Assign this as the Pickup/Collect script to an item, and when the player collects this
	item, they will see the message set as fcc script argument (D0).
	Note: 2.55 has this as a built-in feature. 
	
MagicBossKey

Assign this as the Pickup/Collect script to an item, and when the player collects this
	item, they will gain boss keys for every level in the game.
	This is pre-set-up i the Classic tileset. 
	
MagicMap

Assign this as the Pickup/Collect script to an item, and when the player collects this
	item, they will gain the map item for every level in the game.
	This is pre-set-up i the Classic tileset. 
	
MagicCompass

Assign this as the Pickup/Collect script to an item, and when the player collects this
	item, they will gain the compass item for every level in the game. 
	This is pre-set-up i the Classic tileset. 
	
ItemSound

Assign this as the action script to an item, and set (D0) to a sound effect ID.
Every use of this item will play this sound, even if it has an action sound effect.
THe purpose of this is for items such as the wand (no magic, slash only) where there
is no engine sound effect when using it. 

Daira
Requires ghost.zh for versions < 2.55.
This is the control script for Daira enemies. In 2.53.x, this works via ghost.zh, 
	but in 2.55+, this is an npc script.
	
collect_Z2_lantern
Place this as the collect script on an item that you mean to use as an automatic
	lantern item. It will automatically light up dark rooms if you call the 
	function __classic_zh_do_z2_lantern() in a perpetual script.
	In 2.53.x, cal this in your global active script. 
	In 2.55+, you can use hero scripts, dmap scripts, and passive item scripts
		with ths function.


/* Functions */

bool _classic_zh__isBoss(npc n)
* Returns true if the enemy 'n' is a Z1 boss, otherwise returns false. 
	
void __classic_zh_do_z2_lantern()
* Used for te Z2 AutoLantern item

void __classic_zh_InitScreenUpdating()
* Initialises screen update aray values on quest startup. Checks if a the
	player changes screens.

__classic_zh_UpdateScreenChange1()
* First stage in checking if the screen has changed. Writes new screens
	iif the player has changed screens. 

__classic_zh_UpdateScreenChange2()
* Second stage in checking if the screen has changed. Used by the provided active script.